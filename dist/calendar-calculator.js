/**
* calendar-calculator.js
* Version: 1.0.6
* Address: (https://github.com/ChanceYu/calendar-calculator)
* Author: ChanceYu
* Licensed under the MIT license
*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define("CalendarCalculator",["moment"],e):"object"==typeof exports?exports.CalendarCalculator=e(require("moment")):t.CalendarCalculator=e(t.moment)}(this,function(t){return function(t){function e(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,a){"use strict";t.exports={toDouble:function(t){return t<10?"0"+t:t+""}}},function(t,e,a){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},a=0;a<10;a++)e["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var a,s,u=n(t),d=1;d<arguments.length;d++){a=Object(arguments[d]);for(var f in a)i.call(a,f)&&(u[f]=a[f]);if(o){s=o(a);for(var l=0;l<s.length;l++)r.call(a,s[l])&&(u[s[l]]=a[s[l]])}}return u}},function(e,a){e.exports=t},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),r=a(2),s=n(r),u=a(1),d=n(u),f=a(0),l=function(){function t(e){o(this,t),this.options=(0,d.default)({},t.defaultOptions,e),this.init()}return i(t,[{key:"init",value:function(){var t=(0,s.default)(this.options.startDate),e=(0,s.default)(this.options.endDate),a=t.clone().startOf("month"),n=t.clone().endOf("month"),o=a.clone().startOf("week"),i=o.clone().endOf("month"),r=n.clone().endOf("week");r.clone().startOf("month");a.isSame(o)||(this.existPrevMonthDays=!0),a.isSame(t)||(this.existStartDisableDays=!0),n.isSame(e)||(this.existEndDisableDays=!0),n.isSame(r)||(this.existNextMonthDays=!0),this.startDate=t.date(),this.endDate=e.date(),this.firstDate=a.date(),this.lastDate=n.date(),this.prevMonthFirstDate=o.date(),this.prevMonthLastDate=i.date(),this.nextMonthLastDate=r.date(),this.YYYY=t.format("YYYY"),this.MM=t.format("MM"),this.prevMM=o.format("MM"),this.nextMM=r.format("MM"),this.todayDate=(0,s.default)().format("YYYY-MM-DD")}},{key:"getTotalDateCell",value:function(){var t=[],e="日一二三四五六".split(""),a=0,n=0;if(this.existPrevMonthDays)for(n=this.prevMonthFirstDate;n<=this.prevMonthLastDate;n++){var o=(0,f.toDouble)(n),i=this.YYYY+"-"+this.prevMM+"-"+o,r=e[a],s={date:i,weekday:a,week:r,day:o,isPrevMonth:!0,disabled:!0};i===this.todayDate&&(this.existToday=!0,s.isToday=!0),t.push(s),a++,7===a&&(a=0)}if(this.existStartDisableDays)for(n=1;n<this.startDate;n++){var u=(0,f.toDouble)(n),d=this.YYYY+"-"+this.MM+"-"+u,l=e[a],h={date:d,weekday:a,week:l,day:u,disabled:!0};d===this.todayDate&&(this.existToday=!0,h.isToday=!0),t.push(h),a++,7===a&&(a=0)}for(n=this.startDate;n<=this.endDate;n++){var c=(0,f.toDouble)(n),y=this.YYYY+"-"+this.MM+"-"+c,D=e[a],p={date:y,weekday:a,week:D,day:c,enabled:!0};y===this.todayDate&&(this.existToday=!0,p.isToday=!0),t.push(p),a++,7===a&&(a=0)}if(this.existEndDisableDays)for(n=this.endDate+1;n<=this.lastDate;n++){var m=(0,f.toDouble)(n),b=this.YYYY+"-"+this.MM+"-"+m,Y=e[a],M={date:b,weekday:a,week:Y,day:m,disabled:!0};b===this.todayDate&&(this.existToday=!0,M.isToday=!0),t.push(M),a++,7===a&&(a=0)}if(this.existNextMonthDays)for(n=1;n<=this.nextMonthLastDate;n++){var v=(0,f.toDouble)(n),x=this.YYYY+"-"+this.nextMM+"-"+v,O=e[a],w={date:x,weekday:a,week:O,day:v,isNextMonth:!0,disabled:!0};x===this.todayDate&&(this.existToday=!0,w.isToday=!0),t.push(w),a++,7===a&&(a=0)}return t}}]),t}();l.defaultOptions={startDate:"",endDate:""},t.exports=l},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),r=a(2),s=n(r),u=a(1),d=n(u),f=(a(0),a(3)),l=n(f),h=function(){function t(e){o(this,t),this.options=(0,d.default)({},t.defaultOptions,e)}return i(t,[{key:"isInvalidDate",value:function(){var t=this.options.startDate,e=this.options.endDate,a=function(t){return t=t.split(/\D/),3===t.length};return a(t)&&a(e)&&(0,s.default)(t).isValid()&&(0,s.default)(e).isValid()}},{key:"getTotal",value:function(){var t=this.options.startDate,e=this.options.endDate,a=this.options.format,n=(0,s.default)(t),o=(0,s.default)(e),i=[],r=n.clone().startOf("month").format(a),u=o.clone().startOf("month").format(a),d=void 0;if(r===u)d=new l.default({startDate:t,endDate:e}),i.push({title:(0,s.default)(t).format("YYYY-MM"),dates:d.getTotalDateCell()}),d.existToday&&(this.todayDate={},this.todayDate.date=d.todayDate,this.todayDate.monthIndex=i.length-1);else{for(var f=t,h=(0,s.default)(t).endOf("month").format(a);f!==u;){d=new l.default({startDate:f,endDate:h}),i.push({title:(0,s.default)(f).format("YYYY-MM"),dates:d.getTotalDateCell()}),d.existToday&&(this.todayDate={},this.todayDate.date=d.todayDate,this.todayDate.monthIndex=i.length-1);var c=(0,s.default)(h).subtract(-1,"days");f=c.startOf("month").format(a),h=c.endOf("month").format(a)}d=new l.default({startDate:u,endDate:e}),i.push({title:(0,s.default)(u).format("YYYY-MM"),dates:d.getTotalDateCell()}),d.existToday&&(this.todayDate={},this.todayDate.date=d.todayDate,this.todayDate.monthIndex=i.length-1)}return i}},{key:"getToday",value:function(){return this.todayDate}}]),t}();h.defaultOptions={startDate:"",endDate:"",format:"YYYY-MM-DD"},t.exports=h}])});